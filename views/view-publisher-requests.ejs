<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="/stylesheets/admin-dashboard.css">
	<title>Admin</title>
</head>
<body>

  <%- include('partials/admin-sidebar.ejs') %>

	<section id="content">
		
    <%- include('partials/admin-navbar.ejs') %>
		<main>
            <% if (requests.length === 0) { %>
                <p>No requests to be approved.</p>
            <% } else { %>
			<div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Recent Orders</h3>
						<i class='bx bx-search' ></i>
						<i class='bx bx-filter' ></i>
					</div>
					<table>
						<thead>
							<tr>
								<th>User</th>
								<th>Date Order</th>
								<th>Status</th>
							</tr>
						</thead>

						<tbody>

							<tbody>
                                <% requests.forEach(function(request) { %>
                                    <tr>
                                        <td><%= request.name %></td>
                                        <td><%= request.email %></td>
                                        <td><%= request.newspaper %></td>
                                        <td><%= request.language %></td>
                                        <td>
                                            <button class="btn-success" onclick="approveRequest('<%= request.id %>','<%= request.name %>','<%= request.email %>','<%= request.newspaper %>','<%= request.language %>')">Approve</button>
                                        </td>
                                        
        
                                    </tr>
                                <% }); %>
						</tbody>
					</table>
				</div>
			</div>
            <% }; %>
		</main>
	</section> 
	<script src="/javascripts/admin-dashboard.js"></script>
	<script src="/javascripts/view-publisher-requests.js"></script>
</body>
</html>
