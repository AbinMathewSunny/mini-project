<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="/stylesheets/publisherDashboard.css">
	<title>Publisher</title>
</head>
<body>
	<%- include('partials/publisher-sidebar.ejs') %>
	<section id="content">

		<%- include('partials/publisher-navbar.ejs') %>

		<main>
			<ul class="box-info">
				<li>
					<i class='bx bxs-calendar-check' ></i>
					<span class="text">
						<h3><%= bookingsCount %></h3>
						<p>Bookings</p>
					</span>
				</li>
				<li>
					<i class='bx bxs-group' ></i>
					<span class="text">
						<h3><%= count %></h3>
						<p>Users</p>
					</span>
				</li>
				<li>
					<i class='bx bx-rupee'></i>
					<span class="text">
						<h3><%= totalPrice %></h3>
						<p>Revenue</p>
					</span>
				</li>
			</ul>


			<div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Recent Bookings</h3>
					</div>
					<table>
						<thead>
							<tr>
								<th>Booking Date</th>
								<th>Publishing Date</th>
								<th>Slot Id</th>
							</tr>
						</thead>
	
						<tbody>
							<% if (bookings.length > 0) { %>
								<% bookings.forEach(booking => { %>
									<tr>
										<td><%= booking.createdAt %></td>
										<td><%= booking.publishingDate %></td>
										<td><%= booking.slotId %></td>
									</tr>
								<% }); %>
							<% } else { %>
								<tr>
									<td colspan="2">No new requests.</td>
								</tr>
							<% } %>
						</tbody>
					</table>
				</div>
			</div>
		</main>
	</section>
	

    <script src="/javascripts/publisherDashboard.js"></script>
</body>
</html>